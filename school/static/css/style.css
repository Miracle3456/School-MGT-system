/* Core layout */
:root{
    --bg:#f4f6fa;
    --card:#ffffff;
    --muted:#8692a6;
    --text:#1e293b;
    --accent:#6366f1;
    --border:#e2e8f0;
    --sidebar:#f8fafc;
    --sidebar-active:#6366f1;
    --table:#ffffff;
    --purple:#8b5cf6;
    --green:#10b981;
    --orange:#f59e0b;
    --red:#ef4444
}
*{box-sizing:border-box;margin:0;padding:0}
html,body{height:100%;overflow-x:hidden}
body{margin:0;background:var(--bg);color:var(--text);font:14px/1.5 -apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif}

/* Dashboard Layout with Sidebar */
.dashboard-wrapper{display:flex;min-height:100vh}
.sidebar{width:240px;background:var(--sidebar);border-right:1px solid var(--border);padding:24px 0;position:fixed;height:100vh;overflow-y:auto}
.sidebar-brand{padding:0 20px 20px;font-size:14px;font-weight:700;color:var(--text);display:flex;align-items:center;gap:10px;text-decoration:none;transition:opacity 0.2s;line-height:1.3}
.sidebar-brand:hover{opacity:0.8}
.sidebar-brand span{flex:1}
.sidebar-brand svg{width:32px;height:32px;flex-shrink:0}
.sidebar-menu{list-style:none}
.sidebar-menu li{margin:4px 12px}
.sidebar-menu a{display:flex;align-items:center;gap:12px;padding:10px 12px;border-radius:8px;text-decoration:none;color:var(--muted);font-weight:500;transition:.2s}
.sidebar-menu a:hover{background:#e2e8f0;color:var(--text)}
.sidebar-menu a.active{background:var(--sidebar-active);color:#fff}
.sidebar-menu svg{width:20px;height:20px;stroke:currentColor}

.main-content{flex:1;margin-left:240px;padding:0}
.topbar{background:#fff;border-bottom:1px solid var(--border);padding:16px 32px;display:flex;justify-content:space-between;align-items:center;position:sticky;top:0;z-index:100}
.mobile-menu-toggle{display:none;width:40px;height:40px;border:none;background:none;cursor:pointer;padding:8px;border-radius:8px}
.mobile-menu-toggle:hover{background:var(--bg)}
.mobile-menu-toggle svg{width:24px;height:24px;stroke:var(--text)}
.topbar-title{flex:1}
.topbar-actions{display:flex;align-items:center;gap:16px}
.user-menu-container{position:relative}
.user-menu-trigger{display:flex;align-items:center;gap:8px;padding:6px 12px;border:1px solid var(--border);border-radius:10px;background:#fff;cursor:pointer;transition:all 0.2s}
.user-menu-trigger:hover{border-color:var(--accent);background:#f5f3ff}
.user-avatar{width:32px;height:32px;border-radius:50%;background:var(--accent);color:#fff;display:flex;align-items:center;justify-content:center;font-weight:600;font-size:12px}
.user-avatar-img{width:32px;height:32px;border-radius:50%;object-fit:cover;border:2px solid var(--border)}
.user-dropdown{position:absolute;top:calc(100% + 8px);right:0;background:#fff;border:1px solid var(--border);border-radius:12px;box-shadow:0 4px 12px rgba(0,0,0,0.1);min-width:280px;opacity:0;visibility:hidden;transform:translateY(-10px);transition:all 0.2s;z-index:1000}
.user-dropdown.active{opacity:1;visibility:visible;transform:translateY(0)}
.user-dropdown-header{padding:16px;display:flex;gap:12px;align-items:center}
.user-dropdown-avatar{width:48px;height:48px;border-radius:50%;object-fit:cover;border:2px solid var(--border);flex-shrink:0}
.user-dropdown-info{flex:1;min-width:0}
.user-dropdown-divider{height:1px;background:var(--border);margin:8px 0}
.user-dropdown-item{display:flex;align-items:center;gap:12px;padding:12px 16px;color:var(--text);text-decoration:none;font-size:14px;transition:background 0.2s}
.user-dropdown-item:hover{background:var(--bg)}
.user-dropdown-item svg{flex-shrink:0;stroke:var(--muted)}

.content-area{padding:32px}
.content-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px}
.content-title{font-size:24px;font-weight:700;color:var(--text)}
.content-subtitle{color:var(--muted);font-size:13px;margin-top:4px}
.muted{color:var(--muted)}

/* Cards & content */
.card{background:var(--card);border:1px solid var(--border);border-radius:12px;padding:24px;box-shadow:0 1px 2px rgba(0,0,0,0.05)}
.stats-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:16px;margin-bottom:24px}
.stat-card{background:#fff;border:1px solid var(--border);border-radius:12px;padding:20px}
.stat-value{font-size:28px;font-weight:700;color:var(--text);margin-bottom:4px}
.stat-label{font-size:13px;color:var(--muted);font-weight:500}
.mb-3{margin-bottom:12px}
.row{display:flex;gap:16px;flex-wrap:wrap}
.col{flex:1 1 240px}

/* Buttons */
.btn{display:inline-flex;align-items:center;gap:6px;background:var(--accent);color:#fff;border:none;border-radius:8px;padding:10px 20px;text-decoration:none;cursor:pointer;font-size:14px;font-weight:600;line-height:1;transition:.2s}
.btn:hover{filter:brightness(1.1)}
.btn:focus{outline:none;box-shadow:0 0 0 3px rgba(99,102,241,0.3)}
.btn[disabled],.btn:disabled{opacity:.5;cursor:not-allowed}
.btn-sm{padding:6px 12px;font-size:13px}
.btn-outline{background:#fff;color:var(--text);border:1px solid var(--border)}
.btn-outline:hover{background:var(--bg);border-color:var(--accent);color:var(--accent)}
.btn-primary{background:var(--accent)}
.btn-success{background:var(--green)}
.btn-warning{background:var(--orange);color:#fff}
.btn-danger{background:var(--red)}
.btn-purple{background:var(--purple)}
.btn-icon{width:32px;height:32px;padding:0;display:inline-flex;align-items:center;justify-content:center;border-radius:8px}

/* Forms */
label{
    display:block;
    margin:12px 0 4px;
    font-weight:500;
    color:#374151
}
input[type="text"],input[type="number"],input[type="date"],input[type="email"],input[type="password"],input[type="time"],select,textarea{
    width:100%;
    padding:10px;
    border-radius:8px;
    border:1px solid #d1d5db;
    background:#ffffff;
    color:#111827;
    font-size:14px
}
input:focus,select:focus,textarea:focus{
    outline:none;
    border-color:#2563eb;
    box-shadow:0 0 0 3px rgba(37,99,235,0.1)
}
textarea{resize:vertical}

/* Search bar */
.search-bar{position:relative;display:flex;align-items:center;background:#fff;border:1px solid #d1d5db;border-radius:30px;padding:6px 14px;gap:8px;transition:.2s;border:1px solid #cbd5e1}
.search-bar:focus-within{box-shadow:0 0 0 3px rgba(37,99,235,0.15);border-color:#2563eb}
.search-bar svg{width:18px;height:18px;stroke:#64748b;flex-shrink:0}
.search-bar input{flex:1;border:none;background:transparent;padding:6px 4px;font-size:14px}
.search-bar input:focus{outline:none}
.search-clear{display:none;background:#e2e8f0;border:none;color:#475569;width:24px;height:24px;border-radius:50%;cursor:pointer;font-size:14px;line-height:1}
.search-clear:hover{background:#cbd5e1}
.search-loading{position:absolute;right:42px;width:16px;height:16px;border:2px solid #93c5fd;border-top-color:#2563eb;border-radius:50%;animation:spin .8s linear infinite;display:none}
@keyframes spin{to{transform:rotate(360deg)}}

/* Command palette modal */
.modal-overlay{position:fixed;inset:0;background:rgba(15,23,42,0.55);backdrop-filter:saturate(180%) blur(4px);display:none;align-items:flex-start;justify-content:center;padding:8vh 16px;z-index:1000}
.search-modal{width:min(820px, 100%);background:#fff;border:1px solid #e5e7eb;border-radius:12px;box-shadow:0 20px 40px rgba(2,6,23,0.25);overflow:hidden}
.search-modal .header{display:flex;align-items:center;gap:10px;padding:12px 14px;border-bottom:1px solid #eef2f7}
.search-modal .header kbd{background:#f3f4f6;border:1px solid #e5e7eb;border-bottom-color:#cbd5e1;border-radius:6px;padding:2px 6px;font-size:12px;color:#475569}
.search-input-wrap{display:flex;align-items:center;padding:10px 14px}
.search-input-wrap svg{width:18px;height:18px;stroke:#64748b}
.search-input{flex:1;border:none;padding:8px 10px;font-size:15px;background:transparent}
.search-input:focus{outline:none}
.results{max-height:50vh;overflow:auto}
.result-row{display:flex;align-items:center;gap:10px;padding:10px 14px;border-top:1px solid #f3f4f6}
.result-row:hover,.result-row.active{background:#f8fafc}
.result-row .thumb{width:34px;height:34px;border-radius:8px;border:1px solid #e5e7eb;object-fit:cover}
.result-meta{flex:1;min-width:0}
.result-meta .name{font-weight:600;color:#111827;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}
.result-meta .sub{font-size:12px;color:#64748b}
.actions{display:flex;gap:8px;pointer-events:auto;flex-wrap:wrap}
.actions .btn{padding:6px 10px;border-radius:6px;font-size:12px;pointer-events:auto;white-space:nowrap}

/* Tables */
.table-container{background:#fff;border:1px solid var(--border);border-radius:12px;overflow:hidden;margin-top:16px;box-shadow:0 1px 3px rgba(0,0,0,0.1)}
.table-header{padding:20px 24px;border-bottom:1px solid var(--border);display:flex;justify-content:space-between;align-items:center}
.table-header h3{font-size:18px;font-weight:600;color:var(--text);margin:0}
.table-filters{display:flex;gap:8px;align-items:center}
.filter-btn{padding:8px 12px;border:1px solid var(--border);border-radius:8px;background:#fff;cursor:pointer;font-size:13px;color:var(--text);transition:all 0.2s}
.filter-btn:hover{border-color:var(--accent);color:var(--accent)}
.filter-btn svg{width:16px;height:16px}
table{width:100%;border-collapse:collapse}
th,td{padding:16px 24px;text-align:left;border-bottom:1px solid var(--border)}
th{background:#fafbfc;font-weight:600;font-size:12px;color:var(--muted);text-transform:uppercase;letter-spacing:0.5px}
td{color:var(--text);font-size:14px}
tr:last-child td{border-bottom:none}
tr:hover td{background:#fafbfc}
.table-avatar{width:40px;height:40px;border-radius:10px;object-fit:cover;border:2px solid #f3f4f6}
.table-actions{display:flex;gap:6px}
.table-icon-btn{width:32px;height:32px;border:1px solid var(--border);background:#fff;border-radius:8px;cursor:pointer;display:inline-flex;align-items:center;justify-content:center;transition:all 0.2s}
.table-icon-btn:hover{background:#f5f3ff;border-color:var(--accent)}
.table-icon-btn svg{width:16px;height:16px;stroke:var(--muted)}
.table-icon-btn:hover svg{stroke:var(--accent)}
.table-pagination{padding:16px 24px;display:flex;justify-content:space-between;align-items:center;border-top:1px solid var(--border)}
.pagination-info{font-size:13px;color:var(--muted)}
.pagination-btns{display:flex;gap:4px}
.pagination-btns button{padding:8px 12px;border:1px solid var(--border);background:#fff;border-radius:6px;cursor:pointer;font-size:13px}
.pagination-btns button:hover:not(:disabled){background:var(--bg)}
.pagination-btns button:disabled{opacity:.5;cursor:not-allowed}

/* Flash messages */
.flash{padding:12px 16px;border-radius:8px;margin:12px 0;font-weight:500}
.flash.success{background:#d1fae5;color:#065f46;border:1px solid #6ee7b7}
.flash.error{background:#fee2e2;color:#991b1b;border:1px solid #fca5a5}

/* Responsive */
@media (max-width:768px){
  .sidebar{transform:translateX(-100%);transition:transform 0.3s ease}
  .sidebar.active{transform:translateX(0)}
  .main-content{margin-left:0}
  .mobile-menu-toggle{display:flex}
  .topbar-search{max-width:none}
  .topbar-actions .topbar-btn:not(:last-child){display:none}
  .stats-grid{grid-template-columns:1fr}
  .content-header{flex-direction:column;align-items:flex-start;gap:12px}
  .table-header{flex-direction:column;align-items:flex-start;gap:12px}
  table{font-size:13px}
  th,td{padding:12px 16px}
  
  /* Search modal responsive */
  .search-modal{width:95%;max-width:95%;margin:10px}
  .result-row{flex-wrap:wrap;gap:8px;padding:12px 10px}
  .result-row .thumb{width:32px;height:32px}
  .result-meta{flex:1 1 100%;min-width:100%;order:2}
  .result-meta .name{font-size:14px}
  .result-meta .sub{font-size:11px}
  .actions{flex:1 1 100%;order:3;justify-content:flex-start;gap:6px;margin-top:8px}
  .actions .btn{padding:5px 8px;font-size:11px;flex:1;min-width:0;text-align:center;justify-content:center}
}

@media (max-width:480px){
  .search-modal{width:100%;max-width:100%;margin:0;border-radius:0;max-height:100vh}
  .result-row{padding:10px 8px}
  .actions .btn{font-size:10px;padding:4px 6px}
  .header{padding:12px 16px}
  .search-input-wrap{padding:0 16px}
}

/* Footer */
footer{color:var(--muted);margin-top:32px;padding-top:16px;text-align:center;font-size:13px;border-top:1px solid var(--border)}